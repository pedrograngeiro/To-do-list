Index: assets/js/crud.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { firebaseConfig } from './firebaseConfig.js';\r\n\r\nexport const listarTarefas = (database) => {\r\n    const listaRef = database.ref('lista');\r\n\r\n    return new Promise((resolve, reject) => {\r\n        listaRef.on('value', (snapshot) => {\r\n            const lista = snapshot.val();\r\n            const tarefas = Object.values(lista); // Convertendo o objeto para array\r\n            resolve(tarefas);\r\n        });\r\n    });\r\n};\r\n\r\nexport const listarSistemaInterno = (database) => {\r\n    const listaRef = database.ref('sistema_interno');\r\n\r\n    return new Promise((resolve, reject) => {\r\n        listaRef.on('value', (snapshot) => {\r\n            const pasta = snapshot.val();\r\n            const estados = Object.values(pasta);\r\n            resolve(estados);\r\n        });\r\n    });\r\n};\r\n\r\n// export const listarTarefas = (database) => {\r\n//     const listaRef = database.ref('lista');\r\n\r\n//     return new Promise((resolve, reject) => {\r\n//         listaRef.on('value', (snapshot) => {\r\n//             const lista = snapshot.val();\r\n//             for (const itemKey in lista) {\r\n//                 const item = lista[itemKey];\r\n//                 console.log('Nome da Tarefa:', item.nome_task);\r\n//                 console.log('Homologação:', item.homologacao);\r\n//                 console.log('Status:', item.status);\r\n//                 console.log('Criado em:', item.created);\r\n//                 console.log('Atualizado em:', item.update);\r\n//                 console.log('Completo:', item.complete);\r\n//                 console.log('Usuário:', item.user);\r\n//                 console.log('---'); // Separador entre os registros\r\n//             }\r\n//         });\r\n//     });\r\n// };\r\n\r\nexport const adicionarNovaTarefa = async (data) => {\r\n    // Altere o parâmetro de 'tarefa' para 'data'\r\n    const novaTarefa = {\r\n        nomeTarefa: data.nomeTarefa || 'Nova Tarefa',\r\n        origemProjeto: data.origemProjeto || 'Outros',\r\n        statusTarefa:\r\n            data.statusTarefa === 'Em andamento'\r\n                ? 'E'\r\n                : data.statusTarefa === 'Desenvolvimento'\r\n                ? 'D'\r\n                : data.statusTarefa === 'Homologado'\r\n                ? 'H'\r\n                : data.statusTarefa === 'Producao'\r\n                ? 'P'\r\n                : data.statusTarefa || 'Em andamento',\r\n        mensagem: data.mensagem || '',\r\n        autorTarefa: data.autorTarefa || 'Nome do Usuário',\r\n        created: data.created\r\n            ? new Date(data.created).toLocaleDateString()\r\n            : new Date().toLocaleDateString(),\r\n        update: data.update\r\n            ? new Date(data.update).toLocaleDateString()\r\n            : new Date().toLocaleDateString(),\r\n    };\r\n\r\n    const database = firebase.database(); // Obtenha a referência do banco de dados aqui (se não estiver no escopo anterior)\r\n    const listaRef = database.ref('lista');\r\n\r\n    const novaTarefaRef = listaRef.push();\r\n\r\n    try {\r\n        await novaTarefaRef.set(novaTarefa);\r\n        console.log('Nova tarefa adicionada com sucesso!');\r\n    } catch (error) {\r\n        console.log('Erro ao adicionar nova tarefa: ', error);\r\n    }\r\n};\r\n\r\n(function () {\r\n    firebase.initializeApp(firebaseConfig());\r\n\r\n    const database = firebase.database();\r\n\r\n    // listarSistemaInterno(database)\r\n    //     .then((estadosDoFirebase) => {\r\n    //         console.log(\r\n    //             'Lista de estados do sistema interno:',\r\n    //             estadosDoFirebase\r\n    //         );\r\n    //     })\r\n    //     .catch((error) => {\r\n    //         console.error('Erro ao listar estados do sistema interno:', error);\r\n    //     });\r\n\r\n    // const listaRef = database.ref('lista');\r\n\r\n    // listarTarefas(database);\r\n})();\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/assets/js/crud.js b/assets/js/crud.js
--- a/assets/js/crud.js	(revision 5743cbbf5f3939f17ba6045774107ccc85200f38)
+++ b/assets/js/crud.js	(date 1694548898179)
@@ -65,9 +65,9 @@
         created: data.created
             ? new Date(data.created).toLocaleDateString()
             : new Date().toLocaleDateString(),
-        update: data.update
-            ? new Date(data.update).toLocaleDateString()
-            : new Date().toLocaleDateString(),
+        // update: data.update
+        //     ? new Date(data.update).toLocaleDateString()
+        //     : new Date().toLocaleDateString(),
     };
 
     const database = firebase.database(); // Obtenha a referência do banco de dados aqui (se não estiver no escopo anterior)
